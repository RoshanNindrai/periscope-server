# Laravel routing for EB
# EB sets root to /var/www/html and document_root to /public
# So FastCGI expects /var/www/html/public/index.php
# We route all requests through /public/index.php

location / {
    try_files $uri $uri/ /public/index.php?$query_string;
}

# Block hidden files (except .well-known)
location ~ /\.(?!well-known).* {
    deny all;
}
